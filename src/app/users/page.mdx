export const metadata = {
  title: 'Users',
  description:
    'On this page, weâ€™ll dive into the different user endpoints you can use to manage users programmatically.',
}

# Users

On this page, we'll dive into the different user endpoints you can use to manage users programmatically. {{ className: 'lead' }}

## The user model

The user model contains all the information about the user, such as their username, chat id, and scraping status. It also contains a reference to the user's listings and urls.

### Properties

<Properties>
  <Property name="id" type="string">
    Unique identifier for the user.
  </Property>
  <Property name="username" type="string">
    The username for the user.
  </Property>
  <Property name="scraper_status" type="boolean">
    The status of the user's scraper.
  </Property>
  <Property name="admin" type="boolean">
    Whether or not the user is an admin.
  </Property>
  <Property name="chat_id" type="string">
    The Telegram chat id for the user.
  </Property>
</Properties>

---

## Get user profile {{ tag: 'GET', label: '/v1/get-user-profile/' }}

<Row>
  <Col>

    This endpoint allows you to retrieve the current user profile. User must be authenticated through a Bearer token.

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/v1/get-user-profile/">

    ```bash {{ title: 'cURL' }}
    curl -G https://watchdog-api.zeroruka.moe/v1/get-user-profile/ \
      -H "Authorization: Bearer {token}" \
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
    "username": "test1",
    "user_id": 2,
    "chat_id": 818971977,
    "scraper_status": false
    }
    ```

  </Col>
</Row>

---

## Update user's Chat ID {{ tag: 'POST', label: '/v1/change-chat-id/' }}

<Row>
  <Col>

    This endpoint allows you to update the current user's chat id. User must be authenticated through a Bearer token.

    ### Required attributes

    <Properties>
      <Property name="chat_id" type="string">
        The new chat id for the user that you want to change to.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/v1/change-chat-id/">

    ```bash {{ title: 'cURL' }}
    curl -X PUT https://watchdog-api.zeroruka.moe/v1/change-chat-id/ \
      -H "Authorization: Bearer {token}" \
      -d chat_id=818971977
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
    "message": "Chat id changed successfully"
    }
    ```

  </Col>
</Row>

---

## Delete user {{ tag: 'DELETE', label: '/v1/goodbye/' }}

<Row>
  <Col>

    This endpoint allows you to your account. User must be authenticated through a Bearer token.

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="DELETE" label="/v1/goodbye/">

    ```bash {{ title: 'cURL' }}
    curl -X DELETE https://watchdog-api.zeroruka.moe/v1/goodbye/ \
      -H "Authorization: Bearer {token}"
    ```

    </CodeGroup>
    ```json {{ title: 'Response' }}
    {
    "message": "User deleted successfully"
    }
    ```

  </Col>
</Row>
